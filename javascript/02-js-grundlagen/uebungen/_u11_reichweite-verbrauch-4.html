<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Übung 11: Reichweite & Verbrauch, Teil 4</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  </head>
  <body>
    <main>
      <div class="container py-5">
        <div class="alert alert-primary">
          <h1>Übung 11: Reichweite & Verbrauch, Teil 4</h1>
          <p>
            Diese Anwender vertippen sich einfach ständig. Damit nun endlich die Beschwerdewellen ein Ende haben,
            sollten Sie vielleicht an der Bedienbarkeit des Kraftstoffrechners ein wenig feilen. Der Code stammt aus der
            Lösung von Übung 38: Reichweite & Verbrauch, Teil 3:
          </p>
        </div>

        <div class="alert alert-secondary output"></div>
      </div>
    </main>
    <script>
      'use strict';
      const outputEl = document.querySelector('.output');

      // Функция, которая запрашивает у пользователя ввод и проверяет его на валидность.
      const askForFuelLoad = () => {
        const fuel = parseFloat(prompt('How much fuel did you consume?'));
        if (isNaN(fuel) || fuel <= 0) {
          alert('Please enter a valid number greater than 0.');
          return askForFuelLoad(); // Рекурсивный вызов функции до получения правильного ввода
        }
        return fuel;
      };

      const askForDistance = () => {
        const dist = parseFloat(prompt('How many km did you travel?'));
        if (isNaN(dist) || dist <= 0) {
          alert('Please enter a valid number greater than 0.');
          return askForDistance(); // Рекурсивный вызов функции до получения правильного ввода
        }
        return dist;
      };

      const askForTankSize = () => {
        const tank = parseFloat(prompt('How many liters of gasoline fits in your tank?'));
        if (isNaN(tank) || tank <= 0) {
          alert('Please enter a valid number greater than 0.');
          return askForTankSize(); // Рекурсивный вызов функции до получения правильного ввода
        }
        return tank;
      };

      // Запрашиваем данные у пользователя
      const fuelLoad = askForFuelLoad();
      const distance = askForDistance();
      const tankSize = askForTankSize();

      // Функции для расчёта потребления и расстояния
      const consumption = () => Math.floor((fuelLoad / distance) * 100);
      const fuelRange = () => Math.floor((tankSize * distance) / fuelLoad);

      const message = `Your car has a consumption of ${consumption()} liters per 100 kilometers.\nYou can travel ${fuelRange()} km with a full tank.`;

      console.log(message);

      // Выводим сообщение на страницу
      outputEl.textContent = message;
    </script>
  </body>
</html>
