<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Übung 33: Knack den Code mit Wortanalyse [»Kopfnuss«]</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  </head>
  <body>
    <main>
      <div class="container py-5">
        <h1>Übung 33: Knack den Code mit Wortanalyse [»Kopfnuss«]</h1>
        <p>
          Dein Auftraggeber ist der Hersteller einer Krypto-Software, die sich mit dem Knacken von Codes beschäftigt.
          Einer der neuen Algorithmen soll anhand von Worthäufigkeiten Rückschlüsse über verschlüsselte Texte
          ermöglichen. Deswegen hat er bei dir die Funktion wordOccurance in Auftrag gegeben, die Worthäufigkeiten
          ermittelt.
        </p>
        <p>
          <code>wordOccurance</code> soll einen Text einlesen und die Häufigkeit aller Wörter bestimmen. Der
          Rückgabewert soll ein Objekt sein in der Form: <code>{Wort1: Häufigkeit1, Wort2: Häufigkeit2, …}</code>.
        </p>
      </div>
    </main>
    <script>
      'use strict';

      const text =
        'In cryptology, a code is a method used to encrypt a message that operates at the level of meaning; that is, words or phrases are converted into something else. A code might transform "change" into "CVGDK" or "cocktail lounge". A codebook is needed to encrypt, and decrypt the phrases or words.';

      const wordOccurrance = (text) => {
        const words = text.toLowerCase().match(/\b\w+\b/g);
        const frequency = {};

        words.forEach((word) => {
          frequency[word] = (frequency[word] || 0) + 1;
        });

        return frequency;
      };

      const countriesWithCapital = {
        UK: 'London',
        France: 'Paris',
        Germany: 'Berlin',
        Switzerland: 'Bern',
        Austria: 'Vienna',
        Russia: 'Moscow',
      };

      const countries = [
        {
          name: 'UK',
          capital: 'London',
        },
        {
          name: 'France',
          capital: 'Paris',
        },
        {
          name: 'Germany',
          capital: 'Berlin',
        },
      ];

      const getCapitalOf = (country) => {
        return countriesWithCapital[country] || 'Capital not found';
      };

      const getCountryBy = (capital) => {
        const country = countries.find((c) => c.capital === capital);
        return country ? country.name : 'Country not found';
      };

      const getCountryByForIn = (capital) => {
        for (const country in countriesWithCapital) {
          if (countriesWithCapital[country] === capital) {
            return country;
          }
        }
        return 'Country not found';
      };

      const ingredientsFromMyBar = [
        'Pineapple',
        'Maracuja Juice',
        'Grapefruit Juice',
        'Crushed Ice',
        'Milch',
        'Vodka',
        'Apple Juice',
        'Aperol',
        'Pineapple Juice',
        'Lime Juice',
        'Lemons',
        'Cucumber',
        'Kaffeelikör',
      ];

      const cocktailRecipes = [
        {
          name: 'Honolulu Flip',
          ingredients: ['Maracuja Juice', 'Pineapple Juice', 'Lemon Juice', 'Grapefruit Juice', 'Crushed Ice'],
        },
        { name: 'Casual Friday', ingredients: ['Vodka', 'Lime Juice', 'Apple Juice', 'Cucumber'] },
        {
          name: 'Pink Dolly',
          ingredients: ['Vodka', 'Orange Juice', 'Pineapple Juice', 'Grenadine', 'Cream', 'coco syrup'],
        },
        { name: 'Black Russian', ingredients: ['Vodka', 'Kaffeelikör'] },
        { name: 'White Russian', ingredients: ['Vodka', 'Kaffeelikör', 'Cream'] },
      ];

      const myMixableCocktails = (cocktailList) => {
        return cocktailList.filter((cocktail) =>
          cocktail.ingredients.every((ingredient) => ingredientsFromMyBar.includes(ingredient))
        ).map((cocktail) => cocktail.name);
      };

      console.log(myMixableCocktails(cocktailRecipes));
      // => [ 'Honolulu Flip', 'Casual Friday', 'Black Russian' ]

      const transformName = ({ firstName = '', lastName = '' } = {}) => {
        if (!firstName && !lastName) return 'No name provided';
        const formattedFirstName = firstName.charAt(0).toUpperCase() + firstName.slice(1).toLowerCase();
        const formattedLastName = lastName.charAt(0).toUpperCase() + lastName.slice(1).toLowerCase();
        return `${formattedLastName}, ${formattedFirstName.charAt(0)}.`;
      };

      console.log(transformName({ firstName: 'Max', lastName: 'Mustermann' }));
      // => 'Mustermann, M.'

      console.log(transformName({ firstName: 'JoHn', lastName: 'WiCK' }));
      // => 'Wick, J.'

      console.log(transformName());
    </script>
  </body>
</html>
