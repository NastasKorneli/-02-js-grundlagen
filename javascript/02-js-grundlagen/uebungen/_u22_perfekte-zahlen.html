<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Übung 22: Die perfekte Zahl</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/helpers.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
  </head>
  <body>
    <main>
      <div class="container py-5">
        <h1>Übung 22: Die perfekte Zahl</h1>
        <p>
          Eine natürliche Zahl wird »vollkommene Zahl« (auch »perfekte« oder »ideale Zahl«) genannt, wenn sie genauso
          groß ist wie die Summe ihrer positiven echten Teiler (d.h. aller Teiler außer sich selbst).
        </p>
        <p>
          Schreiben Sie ein Programm, das alle vollkommenen Zahlen bis 1.000 in der Konsole ausgibt.
        </p>
      </div>
    </main>
    <script>
      'use strict';

      // Funktion zur Überprüfung, ob eine Zahl vollkommen ist
      const isPerfectNumber = (n) => {
        if (n < 2) return false;
        let sum = 0;
        for (let i = 1; i <= n / 2; i++) {
          if (n % i === 0) {
            sum += i;
          }
        }
        return sum === n;
      };

      // Funktion zur Ermittlung aller vollkommenen Zahlen bis zu einem gegebenen Wert
      const getPerfectNumbersUpTo = (nrUpTo) => {
        const perfectNumbers = [];
        for (let i = 2; i <= nrUpTo; i++) {
          if (isPerfectNumber(i)) {
            perfectNumbers.push(i);
          }
        }
        return perfectNumbers;
      };

      // Ausgabe der vollkommenen Zahlen bis 1000
      console.log(getPerfectNumbersUpTo(10000));

      // Anzeige der Zahlen im HTML
      const outputDiv = document.createElement('div');
      outputDiv.className = 'alert alert-primary mt-3';
      outputDiv.textContent = `Vollkommene Zahlen bis 10000: ${getPerfectNumbersUpTo(10000).join(', ')}`;
      document.querySelector('.container').appendChild(outputDiv);
    </script>
  </body>
</html>
